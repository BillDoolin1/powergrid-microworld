<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Power Grid Microworld</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Start screen -->
  <div id="start-screen">
    <h1>Power Grid Microworld</h1>
    <p>Enter your team name to begin:</p>
    <form id="name-form">
      <input type="text" id="player-name" placeholder="Team name" required />
      <button type="submit">Start</button>
    </form>
  </div>

  <!-- Main game container -->
  <div id="game-screen" style="display: none;">
    <!-- Welcome flash -->
    <div id="welcome-flash">
      <h1>Welcome to the Powergrid Microworld!</h1>
    </div>

    <!-- Level select -->
    <div id="level-select-container" style="display: none;">
      <div class="level-select">
        <div class="level-select-title">
          <h1>Power Grid Microworld Exercise</h1>
          <h2>Please select level</h2>
        </div>
        <button class="level-btn" data-level="1">Level 1 (Tutorial)</button>
        <button class="level-btn locked" data-level="2" disabled>Level 2 (Locked)</button>
        <button class="level-btn locked" data-level="3" disabled>Level 3 (Locked)</button>
      </div>
    </div>

    <!-- Level 1 - FULLY STRUCTURED -->
    <div id="level-1-screen" style="display: none;">
      <!-- Header -->
      <div class="level-header">
        <h2>Level 1: Tutorial</h2>
        <div class="timer-pause">
          <button id="pause-btn">⏸️ Pause</button>
          <span id="timer">00:00</span>
        </div>
      </div>

        <div class="game-area">
        <div id="goals-corner">
          <h3>Level 1 Tutorial Goals</h3>
          <div class="goal">
            <span>Goal 1: Match Projected Demand</span>
            <span class="goal-progress">32.9 / 50 TWh</span>
            <span class="goal-status incomplete">✗</span>
          </div>
          <div class="goal">
            <span>Goal 2: Reduce Greenhouse Gas Emissions</span>
            <span class="goal-progress">21% / 35% reduction</span>
            <span class="goal-status incomplete">✗</span>
          </div>
          <div class="goal">
            <span>Goal 3: Stay Within Budget</span>
            <span class="goal-progress">€0M / €2B spent</span>
            <span class="goal-status incomplete">✗</span>
          </div>
        </div>
        <!-- LEFT/TOP: capacity table -->
<div id="energy-table" aria-label="Energy mix table">
  <div class="energy-table-title">Energy Mix</div>

  <div class="energy-table-grid energy-table-head">
    <div>Type</div>
    <div>Capacity (TWh)</div>
    <div>Adjust</div>
  </div>

  <div class="energy-table-grid energy-row" data-type="oil">
    <div>Oil</div>
    <div class="cap"><span class="cap-value" id="cap-oil">5.75</span></div>
    <div class="stepper">
      <button class="step up" data-target="cap-oil" aria-label="Increase oil">▲</button>
      <button class="step down" data-target="cap-oil" aria-label="Decrease oil">▼</button>
    </div>
  </div>

  <div class="energy-table-grid energy-row" data-type="gas">
    <div>Gas</div>
    <div class="cap"><span class="cap-value" id="cap-gas">13.16</span></div>
    <div class="stepper">
      <button class="step up" data-target="cap-gas" aria-label="Increase gas">▲</button>
      <button class="step down" data-target="cap-gas" aria-label="Decrease gas">▼</button>
    </div>
  </div>

  <div class="energy-table-grid energy-row" data-type="wind">
    <div>Wind</div>
    <div class="cap"><span class="cap-value" id="cap-wind">10.46</span></div>
    <div class="stepper">
      <button class="step up" data-target="cap-wind" aria-label="Increase wind">▲</button>
      <button class="step down" data-target="cap-wind" aria-label="Decrease wind">▼</button>
    </div>
  </div>

  <div class="energy-table-grid energy-row" data-type="solar">
    <div>Solar</div>
    <div class="cap"><span class="cap-value" id="cap-solar">0.987</span></div>
    <div class="stepper">
      <button class="step up" data-target="cap-solar" aria-label="Increase solar">▲</button>
      <button class="step down" data-target="cap-solar" aria-label="Decrease solar">▼</button>
    </div>
  </div>

  <div class="energy-table-grid energy-row" data-type="offshore">
    <div>Offshore</div>
    <div class="cap"><span class="cap-value" id="cap-offshore">1.57</span></div>
    <div class="stepper">
      <button class="step up" data-target="cap-offshore" aria-label="Increase offshore">▲</button>
      <button class="step down" data-target="cap-offshore" aria-label="Decrease offshore">▼</button>
    </div>
  </div>
</div>

<!-- RIGHT: investment options panel -->
<aside id="investment-panel" aria-label="Investment options">
  <div class="invest-header">
    <div class="invest-title">Investment Options</div>
    <button id="invest-back" class="invest-back" type="button" aria-label="Close investment options">←</button>
  </div>

  <label class="invest-item">
    <span class="invest-text">Home solar panel grant <span class="invest-cost">(Cost 75M)</span></span>
    <input type="checkbox" id="inv-solar-grant" />
  </label>

  <label class="invest-item">
    <span class="invest-text">Heat pump grant <span class="invest-cost">(Cost 100M)</span></span>
    <input type="checkbox" id="inv-heatpump-grant" />
  </label>

  <label class="invest-item">
    <span class="invest-text">Retrofitting allowance <span class="invest-cost">(Cost 200M)</span></span>
    <input type="checkbox" id="inv-retrofit" />
  </label>
</aside>
          
        </div>
      </div>
    

    <!-- Level 2 (commented - ready) -->
    <div id="level-2-screen" style="display: none;">
      <div class="level-header">
        <h2>Level 2</h2>
        <div class="timer-pause">
          <span id="timer-level2">00:00</span>
          <button id="pause-btn-level2">⏸️ Pause</button>
        </div>
      </div>
      <div class="game-area">
        <p style="padding: 48px; font-size: 2rem; text-align: center;">To be completed</p>
      </div>
    </div>

    <!-- Level 3 (commented - ready) -->
    <div id="level-3-screen" style="display: none;">
      <div class="level-header">
        <h2>Level 3</h2>
        <div class="timer-pause">
          <span id="timer-level3">00:00</span>
          <button id="pause-btn-level3">⏸️ Pause</button>
        </div>
      </div>
      <div class="game-area">
        <p style="padding: 48px; font-size: 2rem; text-align: center;">To be completed</p>
      </div>
    </div>
  </div>

  <!-- Pause overlay -->
  <div id="pause-overlay" style="display: none;">
    <div class="pause-panel">
      <h3>Paused</h3>
      <button id="resume-btn">Resume</button>
      <button id="reset-btn">Reset Level</button>
      <button id="exit-btn">Exit to Level Select</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
